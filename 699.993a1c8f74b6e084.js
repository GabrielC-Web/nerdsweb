"use strict";(self.webpackChunknerdsweb=self.webpackChunknerdsweb||[]).push([[699],{1224:(d,u,o)=>{o.d(u,{c:()=>U});var e=o(5879),s=o(6223),g=o(901),p=o(3987),m=o(8535),f=o(2296),a=o(9157),_=o(2032),x=o(617),C=o(2596),I=o(6814);const T=["fileInput"];function v(i,c){if(1&i&&(e.TgZ(0,"div",11),e._UZ(1,"img",12),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.fileImageUrl,e.LSH)}}function M(i,c){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.CmmErrorMessagesObject.required," ")}}function S(i,c){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.CmmErrorMessagesObject.maxFileSize," ")}}function E(i,c){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.CmmErrorMessagesObject.fileType," ")}}function y(i,c){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.control.errors?null:t.control.errors.message," ")}}function F(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",2),e.YNc(1,v,2,1,"div",3),e.TgZ(2,"mat-form-field",4),e.NdJ("click",function(){e.CHM(t);const n=e.MAs(6);return e.KtG(n.click())}),e.TgZ(3,"mat-label"),e._uU(4),e.qZA(),e.TgZ(5,"input",5,6),e.NdJ("change",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.setFile(n))})("click",function(n){return e.CHM(t),e.oxw().resetInputFiles(n),e.KtG(n.stopPropagation())}),e.qZA(),e.TgZ(7,"input",7),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.fileName=n)})("blur",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onTouch())}),e.qZA(),e.TgZ(8,"button",8),e.NdJ("click",function(n){e.CHM(t);const l=e.MAs(6),h=e.oxw();return h.fileName?h.removeFile():l.click(),e.KtG(n.stopPropagation())}),e.TgZ(9,"mat-icon",9),e._uU(10),e.qZA()(),e.YNc(11,M,2,1,"mat-error",10),e.YNc(12,S,2,1,"mat-error",10),e.YNc(13,E,2,1,"mat-error",10),e.YNc(14,y,2,1,"mat-error",10),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.fileImageUrl),e.xp6(1),e.Q6J("subscriptSizing",t.subscriptSizing),e.xp6(2),e.Oqu(t.displayFileSize?t.label+" "+t.fileSize:t.label),e.xp6(3),e.Q6J("placeholder",t.placeholder)("required",t.required)("readonly",!0)("errorStateMatcher",t.errorMatcher())("ngModel",t.fileName),e.xp6(2),e.Q6J("matTooltip",t.file?"Reemplazar":"Adjuntar"),e.xp6(1),e.Oqu(t.fileName?"delete_outline":"attach_file"),e.xp6(1),e.Q6J("ngIf",null==t.control||null==t.control.errors?null:t.control.errors.required),e.xp6(1),e.Q6J("ngIf",(null==t.control||null==t.control.errors?null:t.control.errors.maxFileSize)&&!(null!=t.control&&null!=t.control.errors&&t.control.errors.required)&&!(null!=t.control&&null!=t.control.errors&&t.control.errors.fileType)),e.xp6(1),e.Q6J("ngIf",(null==t.control||null==t.control.errors?null:t.control.errors.fileType)&&!(null!=t.control&&null!=t.control.errors&&t.control.errors.required)),e.xp6(1),e.Q6J("ngIf",null==t.control||null==t.control.errors?null:t.control.errors.apiError)}}function O(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"mat-icon",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.removeFile())}),e._uU(1,"delete"),e.qZA()}}function b(i,c){if(1&i&&e._UZ(0,"img",19),2&i){const t=e.oxw(2);e.Q6J("src",t.fileImageUrl,e.LSH)}}function w(i,c){if(1&i&&(e.TgZ(0,"div",20)(1,"mat-icon",21),e._uU(2),e.qZA(),e.TgZ(3,"p",22),e._uU(4),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.icon," "),e.xp6(2),e.Oqu(t.coverText)}}function P(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",13),e.YNc(1,O,2,0,"mat-icon",14),e.TgZ(2,"label",15),e.YNc(3,b,1,1,"img",16),e.YNc(4,w,5,2,"div",17),e.TgZ(5,"input",5,6),e.NdJ("change",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.setFile(n))})("click",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.resetInputFiles(n))}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.fileImageUrl),e.xp6(2),e.Q6J("ngIf",t.fileImageUrl),e.xp6(1),e.Q6J("ngIf",!t.fileImageUrl)}}let U=(()=>{class i{constructor(t){this.injector=t,this.fileName="",this.fileImageUrl="",this.fileSize="",this.displayFileSize=!0,this.inputType="Input&Image",this.coverText="Agregar",this.icon="add",this.maxFileSize=12,this.imgFileTypes=p.XG,this.replacingErrorMessage="",this.readOnly=!1,this.placeholder="",this.label="",this.currentValue="",this.onChange=r=>{},this.onTouch=r=>{},this.disabled=!1,this.required=!1,this.CmmErrorMessagesObject={...m.K},this.CmmReplaceStringIndicator=m.k,this.onlyNumber=!1,this.errors=null,this.implementCustomInput=!0,this.subscriptSizing="fixed",this.inputChange=new e.vpe,this.errorStateMatcher={isErrorState:r=>r&&r.invalid}}ngOnInit(){}ngOnChanges(t){}ngAfterViewInit(){const t=this.injector.get(s.a5);t&&setTimeout(()=>{this.control=t.control,this.required=this.control?.hasValidator(s.kI.required)})}writeValue(t){this.onTouch(),this.currentValue=t;let r=this.currentValue.split(".")[this.currentValue.split(".").length-1];this.imgFileTypes.includes(r)&&(this.fileImageUrl=this.currentValue),t||this.removeFile()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}setDisabledState(t){this.disabled=t}setFile(t){if(this.file=t.target.files[0],this.file){let r=this.file.type.split("/")[1];this.fileName=this.file.name;let n=new FileReader;n.readAsDataURL(this.file),n.onload=()=>{this.fileImageUrl=this.imgFileTypes.includes(r)?n.result:g.dc.document_od_svg},this.getFileSize(),this.emitValue(this.file)}}resetInputFiles(t){t.target.value=""}removeFile(){this.file=null,this.currentValue="",this.fileName="",this.fileSize="",this.fileImageUrl="",this.emitValue(this.file)}getFileSize(){this.fileSize=String(this.file.size).length>6?"("+String(parseInt(String(this.file.size/1024/1024)))+" MB)":String(this.file.size).length<4?"("+String(parseInt(String(this.file.size)))+" b)":"("+String(parseInt(String(this.file.size/1024)))+" kb)",this.replaceErrorMessages()}emitValue(t){this.onTouch(),this.onChange(t),this.inputChange.emit(t)}replaceErrorMessages(){this.replacingErrorMessage&&(this.CmmErrorMessagesObject.maxFileSize=this.CmmErrorMessagesObject.maxFileSize.replace(this.replacingErrorMessage,this.CmmReplaceStringIndicator)),this.replacingErrorMessage=String(this.maxFileSize)+" MB",this.CmmErrorMessagesObject.maxFileSize=this.CmmErrorMessagesObject.maxFileSize.replace(this.CmmReplaceStringIndicator,this.replacingErrorMessage)}errorMatcher(){return new p.Zi(this.control,this.errors)}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(e.zs3))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["cmm-cmp-i-smfile"]],viewQuery:function(r,n){if(1&r&&e.Gf(T,5),2&r){let l;e.iGM(l=e.CRH())&&(n.inputFile=l.first)}},inputs:{inputType:"inputType",coverText:"coverText",icon:"icon",maxFileSize:"maxFileSize",readOnly:"readOnly",placeholder:"placeholder",label:"label",onlyNumber:"onlyNumber",errors:"errors",implementCustomInput:"implementCustomInput",subscriptSizing:"subscriptSizing"},outputs:{inputChange:"inputChange"},features:[e._Bn([{provide:s.JU,useExisting:(0,e.Gpc)(()=>i),multi:!0},{provide:s.a5,useValue:{}}]),e.TTD],decls:2,vars:2,consts:[["class","row justify-content-center m-0 w-100",4,"ngIf"],["class"," position-relative rounded shadowBorder border",4,"ngIf"],[1,"row","justify-content-center","m-0","w-100"],["class","col-12 previewBox d-flex justify-content-center align-items-center m-0 my-2 mb-3 overflow-hidden p-0 rounded",4,"ngIf"],["appearance","outline","floatLabel","always",1,"col-12","m-0","p-0","cursor-pointer",3,"subscriptSizing","click"],["type","file",1,"position-absolute","opacity-0","top-0","cursor-pointer",3,"change","click"],["fileInput",""],["matInput","",1,"cursor-pointer",3,"placeholder","required","readonly","errorStateMatcher","ngModel","ngModelChange","blur"],["type","button","matIconSuffix","","mat-icon-button","",1,"cursor-pointer",3,"click"],[3,"matTooltip"],[4,"ngIf"],[1,"col-12","previewBox","d-flex","justify-content-center","align-items-center","m-0","my-2","mb-3","overflow-hidden","p-0","rounded"],["height","150","alt","",1,"imgFile","rounded",2,"width","200px","max-height","200px",3,"src"],[1,"position-relative","rounded","shadowBorder","border"],["class","position-absolute p-0 delete-icon cursor-pointer","style","top: 0.3em; right: 0.3em; z-index: 2;",3,"click",4,"ngIf"],[1,"row","justify-content-center","m-0","w-100","cursor-pointer"],["class","w-100 p-0 rounded","alt","","style","aspect-ratio: 1/1;",3,"src",4,"ngIf"],["class","w-100 rounded cmm-bg-light-white d-flex flex-column justify-content-center align-items-center","style","aspect-ratio: 1/1;",4,"ngIf"],[1,"position-absolute","p-0","delete-icon","cursor-pointer",2,"top","0.3em","right","0.3em","z-index","2",3,"click"],["alt","",1,"w-100","p-0","rounded",2,"aspect-ratio","1/1",3,"src"],[1,"w-100","rounded","cmm-bg-light-white","d-flex","flex-column","justify-content-center","align-items-center",2,"aspect-ratio","1/1"],[2,"font-size","32px !important","height","auto !important","width","auto !important"],[1,"fs-18","m-0"]],template:function(r,n){1&r&&(e.YNc(0,F,15,14,"div",0),e.YNc(1,P,7,3,"div",1)),2&r&&(e.Q6J("ngIf","Input&Image"==n.inputType),e.xp6(1),e.Q6J("ngIf","onlyImage"==n.inputType))},dependencies:[f.RK,a.KE,a.hX,a.TO,a.R9,_.Nt,x.Hw,C.gM,I.O5,s.Fj,s.JJ,s.Q7,s.On],styles:["[_ngcontent-%COMP%]:root{--v-dynamic-primary: #336ab2;--v-dynamic-primary-selected: #2e5f9e;--v-dynamic-secundary: #2e5f9e;--v-dynamic-tertiary: #2e5f9e;--mdc-text-button-container-shape: 20px;--mdc-protected-button-container-shape: 20px;--bs-border-radius: 20px}.cmm-txt-green[_ngcontent-%COMP%]{color:#336ab2!important;border:1px solid #336ab2}.cmm-txt-green[_ngcontent-%COMP%]:hover{color:#fff}.cmm-txt-red[_ngcontent-%COMP%]{color:#f6566e!important;border:1px solid #f6566e}.cmm-txt-red[_ngcontent-%COMP%]:hover, .cmm-txt-green[_ngcontent-%COMP%]:hover{color:#fff}.previewBox[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer;border-radius:5px}.imgFile[_ngcontent-%COMP%]{border-radius:5px;width:200px!important;max-width:200px!important;max-height:150px!important}.attach_button[_ngcontent-%COMP%]{border-radius:50%;width:48px!important;height:48px!important}.delete-icon[_ngcontent-%COMP%]{transition:all .25s ease}.delete-icon[_ngcontent-%COMP%]:hover{transform:scale(1.2);color:#f6566e!important}"]})}return i})()},237:(d,u,o)=>{o.d(u,{C:()=>p});var e=o(9886),s=o(5879),g=o(9862);let p=(()=>{class m{constructor(a){this.http=a,this.gatewayUrl=e.N.CC_GATEWAY_URL}postImage(a){const _=new FormData;return _.append("key",a),this.http.post(this.gatewayUrl+"/v1/service/img",_)}static#e=this.\u0275fac=function(_){return new(_||m)(s.LFG(g.eN))};static#t=this.\u0275prov=s.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},4960:(d,u,o)=>{o.d(u,{N:()=>e});const e={digital:"66071cb992f309c9a63017d8",physical:"66080e2371beef4a9cc4c0e4"}}}]);